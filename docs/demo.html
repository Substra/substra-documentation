

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Demo &mdash; Substra 1.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Concepts" href="concepts.html" />
    <link rel="prev" title="Further resources" href="setup/further_resources.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Substra
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Local Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup/index.html">Server setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Demo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pre-requisites-overview-of-the-demo">Pre-requisites &amp; Overview of the demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#terminology">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="#technical-pre-requisites">Technical pre-requisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overview-what-you-can-do-with-the-demo-instance">Overview: what you can do with the demo instance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">1. Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#install-the-substra-client">Install the Substra client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#edit-your-hosts-file">Edit your hosts file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#login">Login</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#follow-titanic-example">2. Follow Titanic example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#work-with-your-own-assets">3. Work with your own assets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#preparing-your-dataset">Preparing your dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing-your-assets">Testing your assets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#training-tasks">Training tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#testing-tasks">Testing tasks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#adding-your-dataset-the-associated-objective">Adding your dataset &amp; the associated objective</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-your-learning-algorithm">Adding your learning algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="#consult-the-performance-from-the-ledger">Consult the performance from the ledger</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#resources">4. Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#find-help">Find help</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-inspired">Get inspired</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">Documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Platform description</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
</ul>
<p class="caption"><span class="caption-text">Specific entry points</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
<p class="caption"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing to Substra</a></li>
<li class="toctree-l1"><a class="reference internal" href="publish.html">Build &amp; publish the documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Substra</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Demo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="demo">
<h1>Demo<a class="headerlink" href="#demo" title="Permalink to this headline">¶</a></h1>
<p>Check this <a class="reference external" href="https://www.substra.ai/en/demo">page</a> and get in touch with us, we will then provide you with instructions and credentials!</p>
<div class="section" id="pre-requisites-overview-of-the-demo">
<h2>Pre-requisites &amp; Overview of the demo<a class="headerlink" href="#pre-requisites-overview-of-the-demo" title="Permalink to this headline">¶</a></h2>
<div class="section" id="terminology">
<h3>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>To follow this tutorial for using the demo instance, it is assumed you have read the documentation of the Substra Framework and are familiar with its core concepts (See <a class="reference external" href="https://doc.substra.ai/glossary.html">Glossary</a>). In particular the following terms: organisation, asset, algo, objective, metric, opener, train task, test task.</p>
</div>
<div class="section" id="technical-pre-requisites">
<h3>Technical pre-requisites<a class="headerlink" href="#technical-pre-requisites" title="Permalink to this headline">¶</a></h3>
<p>The demo instance is deployed on a cloud infrastructure. To use it you will need:</p>
<ul class="simple">
<li><p>the credentials that was provided to you after you contacted us for accessing the demo instance</p></li>
<li><p>access to a computer (e.g. a laptop, a VM…) with an internet connection, on which you have <code class="docutils literal notranslate"><span class="pre">sudo</span></code> privileges. Preferably not a Windows machine, although this is still manageable (see below).</p></li>
</ul>
</div>
<div class="section" id="overview-what-you-can-do-with-the-demo-instance">
<h3>Overview: what you can do with the demo instance<a class="headerlink" href="#overview-what-you-can-do-with-the-demo-instance" title="Permalink to this headline">¶</a></h3>
<p>Although this can be inferred from the below tutorial by experienced readers, it might be good to be explicit about the proposed demo:</p>
<ul class="simple">
<li><p>Substra Framework is meant to be instantiated as a distributed application among multiple partners. However, for this simple demo to be accessible without any deployment operation and allow you to focus on the data scientist perspective, it is installed as a single instance on a cloud VM, in which 2 <code class="docutils literal notranslate"><span class="pre">organisations</span></code> have been created and live independently.</p></li>
<li><p>The credentials provided to you grant you access to only one of these 2 <code class="docutils literal notranslate"><span class="pre">organisations</span></code>. You will not be able to access or tamper with any asset of the second one; you can consider it as another company to which you don’t have access.</p></li>
<li><p>From the organisation you have access to, you will be able to define and register ML tasks to be executed by the distributed application on the assets you targeted. This assumes the task you register are compatible with the permissions that the other organisation defined on its assets (which is what is configured, to make the demo simple).</p></li>
<li><p>A standard example, that we suggest, is the following:</p>
<ol class="simple">
<li><p>from your organisation you define and register a learning algorithm adapted to the dataset owned by the other organisation. In a real use case, this assumes you were able to discuss with the other organisation about this data science project, and align on the expected dataset pre-processing</p></li>
<li><p>you register a task to execute your algorithm on the dataset of the other organisation to train your model</p></li>
<li><p>you register a task to test the performance of your model on a test dataset (which can be owned by the other organisation or by yours, that depends on the use case you consider)</p></li>
<li><p>you consult the performance recorded in the application distributed ledger</p></li>
<li><p>you fetch the model for your own use</p></li>
</ol>
</li>
</ul>
</div>
</div>
<div class="section" id="configuration">
<h2>1. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install-the-substra-client">
<h3>Install the Substra client<a class="headerlink" href="#install-the-substra-client" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Substra is not yet compatible with Windows. However you should be able to make it work with the Windows Linux Subsystem (see <a class="reference external" href="https://doc.substra.ai/usage.html?highlight=wsl#installation">Substra documentation</a>), or inside a Linux virtual machine.</p>
</div></blockquote>
<p>It will install the <a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/references/cli.md#summary">CLI</a> (interactive command line interface) &amp; the <a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/references/sdk.md#substrasdk">Python SDK</a> (ready to be used in your Python scripts).</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install substra
<span class="c1"># Or if a specific version is required by the team (0.6.0 in this example)</span>
pip install <span class="nv">substra</span><span class="o">==</span><span class="m">0</span>.6.0

<span class="c1"># Check that Substra is working</span>
substra --version  <span class="c1"># Should return (for example): &quot;substra, version 0.6.0&quot;</span>
</pre></div>
</div>
<p>You will also need to install the package <a class="reference external" href="https://github.com/SubstraFoundation/substra-tools/tree/master/substratools">Substra Tools</a> which contains all assets templates you will need to submit your algo to the Substra network:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install substratools
<span class="c1"># Or if a specific version is required by the team (for example, v0.5.0)</span>
pip install <span class="nv">substratools</span><span class="o">==</span><span class="m">0</span>.5.0
</pre></div>
</div>
<p>You will then be able to use it in your Python code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">substratools</span> <span class="k">as</span> <span class="nn">tools</span>

<span class="c1"># Class Opener</span>
<span class="k">class</span> <span class="nc">MyOpener</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">Opener</span><span class="p">):</span>

<span class="c1"># Class Metrics</span>
<span class="k">class</span> <span class="nc">MyMetrics</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">Metrics</span><span class="p">):</span>

<span class="c1"># Class Algo</span>
<span class="k">class</span> <span class="nc">MyAlgo</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">algo</span><span class="o">.</span><span class="n">Algo</span><span class="p">):</span>
</pre></div>
</div>
<p>This section is documented <a class="reference external" href="https://github.com/SubstraFoundation/substra-tools/blob/master/docs/api.md#algo">here</a>.</p>
</div>
<div class="section" id="edit-your-hosts-file">
<h3>Edit your hosts file<a class="headerlink" href="#edit-your-hosts-file" title="Permalink to this headline">¶</a></h3>
<p>As the demo instance is a demo instance, you will have to create a link between the server ip address (that we provided you together with your credentials) and the 2 nodes domains used in the demo:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace &lt;CHANGE_ME&gt; with the ip that were provided together with your credentials</span>
<span class="nb">echo</span> <span class="s2">&quot;&lt;CHANGE_ME&gt; substra-backend.node-1.com substra-frontend.node-1.com substra-backend.node-2.com substra-frontend.node-2.com&quot;</span> <span class="p">|</span> sudo tee -a /etc/hosts
</pre></div>
</div>
<p>This will add a line like the following to the file <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> of your machine:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># 001.002.003.004     substra-backend.node-1.com substra-backend.node-2.com substra-frontend.node-1.com substra-frontend.node-2.com</span>
</pre></div>
</div>
<p>In order to check that your local substra client can reach the demo server, you can use the following command:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Quick test on the backend of the node-1</span>
curl substra-backend.node-1.com/readiness
</pre></div>
</div>
<p>You should receive an <code class="docutils literal notranslate"><span class="pre">&quot;OK&quot;</span></code> answer, if not please check again your <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> file. You can also use your browser to visit <a class="reference external" href="http:substra-frontend.node-1.com">substra-frontend.node-1.com</a> &amp; <a class="reference external" href="http:substra-frontend.node-2.com">substra-frontend.node-2.com</a> (without https, because this is demo).</p>
</div>
<div class="section" id="login">
<h3>Login<a class="headerlink" href="#login" title="Permalink to this headline">¶</a></h3>
<p>You can now configure your local Substra client, <em>with the credentials that were provided to access the demo instance</em>, to connect to the <code class="docutils literal notranslate"><span class="pre">node-1</span></code> which hosts the organisation <code class="docutils literal notranslate"><span class="pre">org-1</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure the client, with a profile, a user, a password and an url</span>
substra config --profile &lt;PROFILE&gt; http://substra-backend.node-1.com

<span class="c1"># Login with the profile you created (located in your home folder: ~/.substra)</span>
substra login --profile &lt;PROFILE&gt; --username &lt;USERNAME&gt; --password <span class="s1">&#39;&lt;PASSWORD&gt;&#39;</span>

<span class="c1"># You can then list the network nodes that are on the Substra network</span>
substra list node --profile &lt;PROFILE&gt;

<span class="c1"># And list, for example, the registered datasets in the node you are logged in</span>
substra list dataset --profile &lt;PROFILE&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="follow-titanic-example">
<h2>2. Follow Titanic example<a class="headerlink" href="#follow-titanic-example" title="Permalink to this headline">¶</a></h2>
<p>With this example you will find everything you need to run a first end-to-end example with the tabular data of the Titanic: see this <a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/examples/titanic">repository</a> for further details.</p>
<p>If you feel more comfortable working with local files, you can clone the <a class="reference external" href="https://github.com/SubstraFoundation/substra">Substra repository</a> to get the full examples located in the <code class="docutils literal notranslate"><span class="pre">/example</span></code> folder.</p>
</div>
<div class="section" id="work-with-your-own-assets">
<h2>3. Work with your own assets<a class="headerlink" href="#work-with-your-own-assets" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Note</strong>: This is a demo instance, please do not use any sensitive asset on this platform!</p>
</div></blockquote>
<p>The <a class="reference external" href="https://github.com/SubstraFoundation/substra/tree/master/examples/debugging">debugging section</a> can be of help preparing your asset, please have a look!</p>
<div class="section" id="preparing-your-dataset">
<h3>Preparing your dataset<a class="headerlink" href="#preparing-your-dataset" title="Permalink to this headline">¶</a></h3>
<p>The first step is partitioning your data, and create a test dataset and a train dataset. Following the Titanic example, you will first need to generate data samples (in the <code class="docutils literal notranslate"><span class="pre">/test_data_samples</span></code> and <code class="docutils literal notranslate"><span class="pre">/train_data_samples</span></code> folders respectively) by updating the <code class="docutils literal notranslate"><span class="pre">generate_data_samples.py</span></code> script with the path to you dataset and running it:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip install -r scripts/requirements.txt
python3 scripts/generate_data_samples.py
</pre></div>
</div>
</div>
<div class="section" id="testing-your-assets">
<h3>Testing your assets<a class="headerlink" href="#testing-your-assets" title="Permalink to this headline">¶</a></h3>
<p>To test your assets, you will need to prepare the <code class="docutils literal notranslate"><span class="pre">opener.py</span></code>, <code class="docutils literal notranslate"><span class="pre">metrics.py</span></code> and <code class="docutils literal notranslate"><span class="pre">algo.py</span></code> files which both rely on classes imported from the <a class="reference external" href="https://github.com/SubstraFoundation/substra-tools/tree/master/substratools">substratools</a>.</p>
<div class="section" id="training-tasks">
<h4>Training tasks<a class="headerlink" href="#training-tasks" title="Permalink to this headline">¶</a></h4>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Train your model with the train_data_samples</span>
python3 assets/algo/algo.py train <span class="se">\</span>
  --debug <span class="se">\</span>
  --opener-path assets/dataset/opener.py <span class="se">\</span>
  --data-samples-path assets/train_data_samples <span class="se">\</span>
  --output-model-path assets/model/model <span class="se">\</span>
  --log-path assets/logs/train.log

<span class="c1"># Predict on train_data_samples with your previously trained model</span>
python3 assets/algo/algo.py predict <span class="se">\</span>
  --debug <span class="se">\</span>
  --opener-path assets/dataset/opener.py <span class="se">\</span>
  --data-samples-path assets/train_data_samples <span class="se">\</span>
  --output-predictions-path assets/pred-train.csv <span class="se">\</span>
  --models-path assets/model/ <span class="se">\</span>
  --log-path assets/logs/train_predict.log <span class="se">\</span>
  model

<span class="c1"># Calculate the score of your model on train_data_samples predictions</span>
python3 assets/objective/metrics.py <span class="se">\</span>
  --debug <span class="se">\</span>
  --opener-path assets/dataset/opener.py <span class="se">\</span>
  --data-samples-path assets/train_data_samples <span class="se">\</span>
  --input-predictions-path assets/pred-train.csv <span class="se">\</span>
  --output-perf-path assets/perf-train.json <span class="se">\</span>
  --log-path assets/logs/train_metrics.log
</pre></div>
</div>
</div>
<div class="section" id="testing-tasks">
<h4>Testing tasks<a class="headerlink" href="#testing-tasks" title="Permalink to this headline">¶</a></h4>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># Predict on test_data_samples with your previously trained model</span>
python3 assets/algo/algo.py predict <span class="se">\</span>
  --debug <span class="se">\</span>
  --opener-path assets/dataset/opener.py <span class="se">\</span>
  --data-samples-path assets/test_data_samples <span class="se">\</span>
  --output-predictions-path assets/pred-test.csv <span class="se">\</span>
  --models-path assets/model/ <span class="se">\</span>
  --log-path assets/logs/test_predict.log <span class="se">\</span>
  model

<span class="c1"># Calculate the score of your model on test_data_samples predictions</span>
python3 assets/objective/metrics.py <span class="se">\</span>
  --debug <span class="se">\</span>
  --opener-path assets/dataset/opener.py <span class="se">\</span>
  --data-samples-path assets/test_data_samples <span class="se">\</span>
  --input-predictions-path assets/pred-test.csv <span class="se">\</span>
  --output-perf-path assets/perf-test.json <span class="se">\</span>
  --log-path assets/logs/test_metrics.log
</pre></div>
</div>
<p>You will need to update or follow the relevant path to add your assets or get the logs and model.</p>
</div>
</div>
<div class="section" id="adding-your-dataset-the-associated-objective">
<h3>Adding your dataset &amp; the associated objective<a class="headerlink" href="#adding-your-dataset-the-associated-objective" title="Permalink to this headline">¶</a></h3>
<p>You will now have to prepare the <code class="docutils literal notranslate"><span class="pre">opener.py</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">metrics.py</span></code> files, including their corresponding <code class="docutils literal notranslate"><span class="pre">description.md</span></code> and <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> (where you have to add your dependencies). All assets are based on <a class="reference external" href="https://github.com/SubstraFoundation/substra-tools/tree/master/substratools">substratools</a> classes to ease the process.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">add_dataset_objective.py</span></code> script is in charge of registering your dataset as an asset of the <code class="docutils literal notranslate"><span class="pre">organisation</span></code> you belong to. With your dataset will also be registered the <code class="docutils literal notranslate"><span class="pre">opener.py</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">metrics.py</span></code> files. Before running the script, please make sure you edit it to update the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">profile</span></code> in <code class="docutils literal notranslate"><span class="pre">client</span> <span class="pre">=</span> <span class="pre">substra.Client(profile_name=&quot;&lt;PROFILE&gt;&quot;)</span></code>, using the profile you created before</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATASET</span></code>: <code class="docutils literal notranslate"><span class="pre">name</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">permissions</span></code> (demo organisations are named <code class="docutils literal notranslate"><span class="pre">MyOrg1MSP</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">MyOrg2MSP</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OBJECTIVE</span></code>: <code class="docutils literal notranslate"><span class="pre">name</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">permissions</span></code> (demo organisations are named <code class="docutils literal notranslate"><span class="pre">MyOrg1MSP</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">MyOrg2MSP</span></code>)</p></li>
<li><p>any different path in regard to your project file structure</p></li>
</ul>
<p>You can then run the command:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python3 add_dataset_objective.py
</pre></div>
</div>
<p>You will see some messages printed while the script is running. In the end, you should see a message like:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Assets keys have been saved to /home/user/your_project/assets_keys.json
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">assets_keys.json</span></code> file contains the keys of your registered assets that have been registered by the platform:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dataset_key&quot;</span><span class="p">:</span> <span class="s2">&quot;cb8d7f928d956ba6e9596a9b8624a0c7b0312eccd099f8791ca284bc05bd9416&quot;</span><span class="p">,</span>
  <span class="nt">&quot;objective_key&quot;</span><span class="p">:</span> <span class="s2">&quot;0a2e88018601d035f65788d2a081f84a35427474c4bde9fa357af2406be9b52c&quot;</span><span class="p">,</span>
  <span class="nt">&quot;train_data_sample_keys&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;d72e2033aef1ce2f25cf56029a83a35bbc8b636b98d246b5931bc96ee5483f67&quot;</span><span class="p">,</span>
    <span class="s2">&quot;6d2b0accd445a4cdd546f8af2d2eb9ae6b6462a6c4c00ae16ddb82500f6fa37e&quot;</span><span class="p">,</span>
    <span class="s2">&quot;e72650db0206ec73edc74b5d1beab65bf487f6fb59c8a14563205602942cc287&quot;</span><span class="p">,</span>
    <span class="s2">&quot;0827401963fa66beb2f2a74743b968aa7e213f1701c897317c4fa7e5b1d80193&quot;</span><span class="p">,</span>
    <span class="s2">&quot;c624b9e66691542283333184972f909a621119001d159216aecbec10e0d91460&quot;</span><span class="p">,</span>
    <span class="s2">&quot;34bf8fb5ecfa02656c8b61b314dc810b1de797ac849f5c23afbcaed5f2b1048a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;1dc200f6c7e22db5e725921c24af4127765afecca5e96f922a283f342a1a678a&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dde0b8762ea44c5821e460af167fc1e34659480cc3223891e0b2faecf23c5078&quot;</span><span class="p">,</span>
    <span class="s2">&quot;9bd68627150f7c85bf46f20eefcb00d2f40cec64627e8f23d68e68d2e6da88c4&quot;</span><span class="p">,</span>
    <span class="s2">&quot;22e81c5d24dd54a69909a265ff42c64afda93e2ff6bc3dc7225a3f3914c969bb&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;test_data_sample_keys&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;fd4a10303ebbcc378679ff51ef592bd661f4923e306f69873cc7300c5e7c9f8c&quot;</span><span class="p">,</span>
    <span class="s2">&quot;98af9156cd1445f8164d2b8b83f512d62ec67e8d2598a585a8564660c3aaef06&quot;</span>
  <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Theses keys are useful when you want to get information about a specific resource, you can for example use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>substra get dataset cb8d7f928d956ba6e9596a9b8624a0c7b0312eccd099f8791ca284bc05bd9416 --profile node-1
</pre></div>
</div>
</div>
<div class="section" id="adding-your-learning-algorithm">
<h3>Adding your learning algorithm<a class="headerlink" href="#adding-your-learning-algorithm" title="Permalink to this headline">¶</a></h3>
<p>You will need to update the <code class="docutils literal notranslate"><span class="pre">algo.py</span></code> file as well as the <code class="docutils literal notranslate"><span class="pre">description.md</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code>, and finally push it to the platform with the dedicated script:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python3 add_train_algo.py
</pre></div>
</div>
<p>Prior to running it, please make sure you edit it to update the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">profile</span></code> in <code class="docutils literal notranslate"><span class="pre">client</span> <span class="pre">=</span> <span class="pre">substra.Client(profile_name=&quot;&lt;PROFILE&gt;&quot;)</span></code>, using the profile you created before</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALGO</span></code>: <code class="docutils literal notranslate"><span class="pre">name</span></code> &amp;  <code class="docutils literal notranslate"><span class="pre">permissions</span></code> (demo organisations are named <code class="docutils literal notranslate"><span class="pre">MyOrg1MSP</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">MyOrg2MSP</span></code>)</p></li>
</ul>
<p>Once done, the script will print some suggestions to gather information about your assets:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Assets keys have been saved to /home/user/your_project/assets_keys.json
Run the following commands to track the status of the tuples:
    substra get traintuple &lt;traintuple_key&gt; --profile node-1
    substra get testtuple &lt;testtuple_key&gt; --profile node-1
</pre></div>
</div>
<p>If you need to test that your algorithm is working without having access to the data, you can use
the <code class="docutils literal notranslate"><span class="pre">fake_data</span></code> from the <code class="docutils literal notranslate"><span class="pre">opener.py</span></code> by:</p>
<ul>
<li><p><strong>substra &gt;= <code class="docutils literal notranslate"><span class="pre">0.7.0</span></code></strong><br />editing the <code class="docutils literal notranslate"><span class="pre">add_train_algo.py</span></code> script and setup the client in debug mode by adding <code class="docutils literal notranslate"><span class="pre">debug=True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">substra</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">profile_name</span><span class="o">=</span><span class="s2">&quot;&lt;PROFILE&gt;&quot;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><strong>substra &lt; <code class="docutils literal notranslate"><span class="pre">0.7.0</span></code></strong><br />using the CLI method <code class="docutils literal notranslate"><span class="pre">substra</span> <span class="pre">run-local</span></code>.</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>substra run-local assets/algo <span class="se">\</span>
  --train-opener<span class="o">=</span>assets/dataset/opener.py <span class="se">\</span>
  --test-opener<span class="o">=</span>assets/dataset/opener.py <span class="se">\</span>
  --metrics<span class="o">=</span>assets/objective/ <span class="se">\</span>
  --fake-data-samples
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="consult-the-performance-from-the-ledger">
<h3>Consult the performance from the ledger<a class="headerlink" href="#consult-the-performance-from-the-ledger" title="Permalink to this headline">¶</a></h3>
<p>Performances will be exported to a <code class="docutils literal notranslate"><span class="pre">perf.json</span></code> file. You can also use the CLI commands:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>substra get traintuple &lt;KEY&gt; --profile &lt;PROFILE&gt;
substra get testtuple &lt;KEY&gt; --profile &lt;PROFILE&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="resources">
<h2>4. Resources<a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="find-help">
<h3>Find help<a class="headerlink" href="#find-help" title="Permalink to this headline">¶</a></h3>
<p>Feeling lost? Remember, you can use <code class="docutils literal notranslate"><span class="pre">substra</span> <span class="pre">--help</span></code> anytime:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>Usage: substra <span class="o">[</span>OPTIONS<span class="o">]</span> COMMAND <span class="o">[</span>ARGS<span class="o">]</span>...

  Substra Command Line Interface.

  For <span class="nb">help</span> using this tool, please open an issue on the Github
  repository: https://github.com/SubstraFoundation/substra

Options:
  --version    Show the version and exit.
  --help       Show this message and exit.

Commands:
  add          Add new asset to Substra platform.
  cancel       Cancel execution of an asset.
  config       Add profile to config file.
  describe     Display asset description.
  download     Download asset implementation.
  get          Get asset definition.
  leaderboard  Display objective leaderboard
  list         List assets.
  login        Login to the Substra platform.
  run-local    Run local.
  update       Update asset.
</pre></div>
</div>
<p>You can also get help for specific commands, for example <code class="docutils literal notranslate"><span class="pre">substra</span> <span class="pre">download</span> <span class="pre">--help</span></code>.</p>
</div>
<div class="section" id="get-inspired">
<h3>Get inspired<a class="headerlink" href="#get-inspired" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/examples/titanic">Titanic example</a>, included in the Substra repository, is ready to run but you can also have a look at the <a class="reference external" href="https://github.com/SubstraFoundation/substra-examples">community examples</a>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra/tree/master/examples/cross_val">Cross Validation</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra/tree/master/examples/compute_plan">Compute plan</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra/tree/master/examples/debugging">Debugging</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra-examples/tree/master/mnist">MNIST</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra-examples/tree/master/mnist-dp">MNIST with differential privacy</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra-examples/tree/master/deepfake-detection">Deepfake detection</a></p></li>
</ul>
</div>
<div class="section" id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://doc.substra.ai">General documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/references/cli.md#summary">CLI documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/SubstraFoundation/substra/blob/master/references/sdk.md#substrasdk">Python SDK documentation</a></p></li>
<li><p><a class="reference internal" href="cheatsheet_cli.html"><span class="doc">Substra cheat sheet</span></a></p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="concepts.html" class="btn btn-neutral float-right" title="Concepts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="setup/further_resources.html" class="btn btn-neutral float-left" title="Further resources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Substra Foundation.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>